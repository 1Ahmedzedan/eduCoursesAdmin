import{x as D,r,j as e}from"./index-C5bhTxtS.js";import"./DefaultLayout-BrWosQGu.js";import{a as I}from"./index.esm-DA8WOXCh.js";import{_ as N}from"./index-CW1HR4lj.js";import{a as k}from"./axios-B4uVmeYG.js";import{C as S,a as B}from"./CRow-bDSECg90.js";import{C as w,a as G}from"./CCardBody-Bg4hYHfU.js";import{C as M}from"./CCardHeader-CKImgVPn.js";import{C as T}from"./CForm-BI516KAI.js";import{C as s}from"./CFormLabel-D6mcoJWr.js";import{C as n}from"./CFormInput-CzvlUsDs.js";import"./cil-user-Dlmw-Gem.js";import"./CFormControlWrapper-CTAml_iy.js";import"./CFormControlValidation-C3_BbCmQ.js";function W(){const{pkgID:h}=D();r.useState(null);const[E,x]=r.useState(!1),[b,g]=r.useState(!1),[l,C]=r.useState(""),[i,f]=r.useState(),[c,j]=r.useState(),[m,F]=r.useState(),[p,v]=r.useState([]),[y,d]=r.useState(""),P=t=>{if(t.preventDefault(),!l||!i||!m||!c||!p)console.log("fdsflsdkf"),N("Here is your toast.");else{const a=localStorage.getItem("token"),o={name:l,durationByMonths:i,priceForNonEgypt:m,priceForEgypt:c,description:p};g(!0),k.put(`http://92.113.26.138:8080/packages/${h}`,o,{headers:{Authorization:`Bearer ${a}`}}).then(u=>{console.log(u.data)}).catch(u=>{console.log(u)}).finally(()=>{g(!1)})}};return r.useEffect(()=>{const t=localStorage.getItem("token");x(!0),k.get(`http://92.113.26.138:8080/packages/${h}`,{headers:{Authorization:`Bearer ${t}`}}).then(a=>{const o=a.data;C(o.name),f(o.durationByMonths),j(o.priceForEgypt),F(o.priceForNonEgypt),v(o.description),d(o.description[0])}).catch(a=>{console.log(a.response.data)}).finally(()=>{x(!1)})},[b]),E?e.jsx("div",{children:"Loading..."}):e.jsx(S,{children:e.jsx(B,{xs:12,children:e.jsxs(w,{className:"mb-4",children:[e.jsx(M,{children:e.jsx("strong",{children:"Edit Package"})}),e.jsx(G,{children:e.jsxs(T,{children:[e.jsxs("div",{className:"mb-3",children:[e.jsx(s,{htmlFor:"exampleFormControlInput1",children:"Name of packages"}),e.jsx(n,{type:"name",id:"exampleFormControlInput1",placeholder:"name of course",value:l,onChange:t=>C(t.target.value)})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx(s,{htmlFor:"exampleFormControlTextarea1",children:"Duration By Months"}),e.jsx(n,{type:"number",id:"exampleFormControlInput1",placeholder:"Duration By Months",value:i,onChange:t=>f(t.target.value)})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx(s,{htmlFor:"exampleFormControlTextarea1",children:"Price per Dollar"}),e.jsx(n,{type:"number",id:"exampleFormControlInput1",placeholder:"Price per Dollar",value:m,onChange:t=>F(t.target.value)})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx(s,{htmlFor:"exampleFormControlTextarea1",children:"Price per EG"}),e.jsx(n,{type:"number",id:"exampleFormControlInput1",placeholder:"Price per EG",value:c,onChange:t=>j(t.target.value)})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx(s,{htmlFor:"exampleFormControlTextarea1",children:"Description"}),e.jsx(n,{type:"text",id:"exampleFormControlInput1",placeholder:"Description",value:y,onChange:t=>d(t.target.value),onBlur:()=>{v([...p,y]),d("")}})]}),e.jsx("div",{className:"col-auto text-center",children:e.jsx(I,{color:"primary",type:"submit",className:"mb-3 w-25",onClick:P,children:"Edit Package"})})]})})]})})})}export{W as default};
